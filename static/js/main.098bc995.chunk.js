(window["webpackJsonpeschool-task"]=window["webpackJsonpeschool-task"]||[]).push([[0],{139:function(e,t,a){e.exports=a.p+"static/media/react-bootstrap-logo.26aa74fe.svg"},159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),l=a.n(s),o=(a(82),a(10)),c=a(11),i=a(13),m=a(12),d=a(21),u=a(14),h=a(69),p=a.n(h).a.initializeApp({apiKey:"AIzaSyBVxVIY_VHaPI0UUIATqJzpcsdffErSi98",authDomain:"eschooldemo-2b247.firebaseapp.com",databaseURL:"https://eschooldemo-2b247.firebaseio.com",projectId:"eschooldemo-2b247",storageBucket:"eschooldemo-2b247.appspot.com",messagingSenderId:"935713481444",appId:"1:935713481444:web:c32a24435f464b08"}),b=(a(92),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.BgURL,a=e.ClassName,n={backgroundImage:"url(".concat(t,")")};return r.a.createElement("div",{className:a,style:n})}}]),t}(n.Component)),g=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.headingText;return r.a.createElement("div",{className:t},r.a.createElement("h1",{className:"text-center display-4 formHeading"},a),this.props.render())}}]),t}(n.Component),E=a(26),f=a(162),v=a(17),N=a.n(v),O={color:"#777"},C={padding:"25px 0"},j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t;a.setState((t={},Object(E.a)(t,e.target.name,e.target.value),Object(E.a)(t,"FireErrors",""),t))},a.UserLogin=function(e){e.preventDefault(),p.auth().signInWithEmailAndPassword(a.state.Email,a.state.Password).then(function(e){}).catch(function(e){a.setState({FireErrors:e.message})})},a.ScrollDownFormHandler=function(){var e=N()(window).innerWidth(),t=0;t=e>1280?"-900px":e>700&&e<=1280?"-700px":"-1100px",N()(".membership-forms").css("transform","translateY(".concat(t,")"))},a.UserLogin=a.UserLogin.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.state={Email:"",Password:"",FireErrors:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.FireErrors?r.a.createElement("div",{style:C,id:"fireError",className:"text-danger"},this.state.FireErrors):null;return r.a.createElement(r.a.Fragment,null,e,r.a.createElement(f.a,null,r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,{htmlFor:"loginUsername",className:"lead"},"Email"),r.a.createElement(f.a.Control,{name:"Email",type:"email",id:"loginUsername",onChange:this.handleChange,value:this.state.Email})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,{htmlFor:"",className:"lead"},"Password"),r.a.createElement(f.a.Control,{name:"Password",type:"password",id:"loginPassword",autoComplete:"true",onChange:this.handleChange,value:this.state.Password})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,{className:"toggleCheckbox",id:"loginRememberMe"},r.a.createElement("span",{className:"lead"},"Remember Me"),r.a.createElement("div",{className:"toggleCheckbox__wrap"},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("b",{className:"toggleCheckbox__handle"})))),r.a.createElement(f.a.Group,null,r.a.createElement("input",{onClick:this.UserLogin,type:"submit",className:"btn text-white",value:"Login"}),r.a.createElement("a",{style:O,className:"btn btn-link float-right font-weight-bold",href:"#home"},"Forget Password"))),r.a.createElement("div",{className:"form-scroll-down",onClick:this.ScrollDownFormHandler},r.a.createElement("i",{className:"fa fa-angle-down"})))}}]),t}(n.Component),w=a(71),y=a.n(w),S=a(49),k=a.n(S),U=a(40),L=a.n(U),P={padding:"25px 0"},F={Email:"",Password:"",ConfirmPassword:"",FirstName:"",MiddleName:"",LastName:"",date:new Date,Gender:!1,SignUpErrors:[]},x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t;N()("#fireError").empty(),a.setState((t={},Object(E.a)(t,e.target.name,e.target.value),Object(E.a)(t,"SignUpErrors",[]),t))},a.validate=function(){var e=[];return a.state.FirstName||e.push("First Name is Required."),a.state.LastName||e.push("Last Name is Required."),a.state.Email.includes("@")||e.push("Invalid Email Address."),a.state.Password||e.push("Password is Required."),a.state.ConfirmPassword||e.push("Confirm Password is Required."),a.state.Password!==a.state.ConfirmPassword&&e.push("Password Mismatch."),!(e.length>0)||(a.setState({SignUpErrors:e}),!1)},a.UserSignUp=function(e){e.preventDefault(),N()("#fireError").empty(),a.validate()&&fetch("https://us-central1-eschooldemo-2b247.cloudfunctions.net/AddNewStudent",{method:"POST",headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json charset=utf-8"},body:JSON.stringify({ID:Math.round(100+1e25*Math.random()),FirstName:a.state.FirstName,MiddleName:a.state.MiddleName,LastName:a.state.LastName,DateOfBirth:a.state.DateOfBirth,Gender:a.state.Gender,Email:a.state.Email,Password:a.state.Password})}).then(function(e){a.setState({initialState:F}),a.setState({SignUpErrors:[]}),p.auth().createUserWithEmailAndPassword(a.state.Email,a.state.Password).catch(function(e){L()(":(","An error has occurred while Creating user","error")}),L()("Thank You","Student has been recorded successfully","success")}).catch(function(e){L()("An error has occurred!",String(e),"error"),console.log(e)})},a.datepickerHandler=function(e){N()("#fireError").empty(),a.setState({date:e})},a.ScrollUpFormHandler=function(){return document.getElementsByClassName("membership-forms")[0].style.transform="translateY(0px)"},a.state=F,a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.UserSignUp=a.UserSignUp.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:P,id:"fireError",className:"text-danger"}),this.state.SignUpErrors.forEach(function(e){N()("#fireError").append('<p style="margin-bottom : 0.25rem !important">'.concat(e,"</p>"))}),r.a.createElement(f.a,{onSubmit:this.UserSignUp},r.a.createElement(k.a,null,r.a.createElement(f.a.Group,{className:"col-sm"},r.a.createElement(f.a.Label,{htmlFor:"SignUp-fname",className:"lead"},"First Name"),r.a.createElement(f.a.Control,{name:"FirstName",type:"text",id:"SignUp-fname",value:this.state.FirstName,onChange:this.handleChange})),r.a.createElement(f.a.Group,{className:"col-sm"},r.a.createElement(f.a.Label,{htmlFor:"SignUp-mname",className:"lead"},"Middle Name"),r.a.createElement(f.a.Control,{name:"MiddleName",type:"text",id:"SignUp-mname",value:this.state.MiddleName,onChange:this.handleChange})),r.a.createElement(f.a.Group,{className:"col-sm"},r.a.createElement(f.a.Label,{htmlFor:"SignUp-lname",className:"lead"},"Last Name"),r.a.createElement(f.a.Control,{name:"LastName",type:"text",id:"SignUp-lname",value:this.state.LastName,onChange:this.handleChange}))),r.a.createElement(k.a,null,r.a.createElement(f.a.Group,{className:"col-sm"},r.a.createElement(f.a.Label,{htmlFor:"datepicker",className:"lead"},"Date Of Birth"),r.a.createElement(y.a,{name:"date",dateFormat:"yyyy/MM/dd",value:this.state.date,onChange:this.datepickerHandler,required:!0})),r.a.createElement(f.a.Group,{className:"col-sm",id:"SignUp-Gender"},r.a.createElement(f.a.Label,{className:"lead"},"Gender"),r.a.createElement(f.a.Label,{className:"toggleCheckbox"},r.a.createElement("div",{className:"toggleCheckbox__wrap"},r.a.createElement("input",{type:"checkbox",id:"SignUpGender",name:"Gender",value:this.state.Gender,onChange:this.handleChange}),r.a.createElement("b",{className:"toggleCheckbox__handle"}))))),r.a.createElement(f.a.Group,{className:"form-group"},r.a.createElement(f.a.Label,{htmlFor:"SignUp-Username",className:"lead"},"Email"),r.a.createElement(f.a.Control,{name:"Email",type:"email",id:"SignUp-Username",value:this.state.Email,onChange:this.handleChange})),r.a.createElement(f.a.Group,{className:"form-group"},r.a.createElement(f.a.Label,{htmlFor:"SignUp-Password",className:"lead"},"Password"),r.a.createElement(f.a.Control,{name:"Password",type:"password",id:"SignUp-Password",autoComplete:"false",value:this.state.Password,onChange:this.handleChange})),r.a.createElement(f.a.Group,{className:"form-group"},r.a.createElement(f.a.Label,{htmlFor:"SignUp-ConfirmPass",className:"lead"},"Confirm Password"),r.a.createElement(f.a.Control,{name:"ConfirmPassword",type:"password",id:"SignUp-ConfirmPass",autoComplete:"false",value:this.state.ConfirmPassword,onChange:this.handleChange})),r.a.createElement(f.a.Group,{className:"form-group"},r.a.createElement("input",{type:"submit",className:"btn text-white",value:"Register"}))),r.a.createElement("div",{className:"form-scroll-up",onClick:this.ScrollUpFormHandler},r.a.createElement("i",{className:"fa fa-angle-up"})))}}]),t}(n.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid body-content"},r.a.createElement("div",{id:"membership"},r.a.createElement("div",{className:"membership-col-1"},r.a.createElement(b,{BgURL:"./Images/eSchool--bg.jpg",ClassName:"membership-bg"})),r.a.createElement("div",{className:"membership-col-2"},r.a.createElement("div",{className:"membership-forms"},r.a.createElement(g,{className:"membership-login",headingText:"Login",render:function(){return r.a.createElement(j,null)}}),r.a.createElement(g,{className:"membership-SignUp",headingText:"Sign Up",render:function(){return r.a.createElement(x,null)}})))))}}]),t}(n.Component),I=a(72),A=a.n(I),D=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Student Name"),r.a.createElement("th",{scope:"col"},"Date Of Birth"),r.a.createElement("th",{scope:"col"},"Gender"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Password"))))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).GetAllStudents=function(){p.firestore().collection("Student").get().then(function(e){a.setState({studentRecords:e.docs.map(function(e){return e.data()})})})},a.state={studentRecords:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.GetAllStudents()}},{key:"render",value:function(){return r.a.createElement("tbody",null,this.state.studentRecords.map(function(e,t){return r.a.createElement("tr",{key:e.ID},r.a.createElement("th",null,e.ID),r.a.createElement("td",null,e.FirstName+" "+e.LastName),r.a.createElement("td",null,e.DateOfBirth),r.a.createElement("td",null,!0===e.Gender?"Male":"Female"),r.a.createElement("td",null,e.Email),r.a.createElement("td",null,e.Password))}))}}]),t}(n.Component),B=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.tableOptions;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{className:e},r.a.createElement(D,null),r.a.createElement(M,null)))}}]),t}(n.PureComponent),R=a(31),T=a.n(R),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){for(var e=[],t=1;t<=1;t++)e.push(r.a.createElement(T.a.Item,{key:t,active:t===a.props.activeItem},t));a.setState({active:a.props.activeItem,items:e})},a.state={active:1,items:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,null,r.a.createElement(T.a.Item,null,r.a.createElement("i",{className:"fa fa-chevron-left"})),this.state.items,r.a.createElement(T.a.Item,null,r.a.createElement("i",{className:"fa fa-chevron-right"}))))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={activePage:1,filter:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){N()(window).innerWidth()>702?N()(".studentList").children("table").removeClass("table-responsive"):N()(".studentList").children("table").addClass("table-responsive"),N()(window).resize(function(){N()(this).innerWidth()>702?N()(".studentList").children("table").removeClass("table-responsive"):N()(".studentList").children("table").addClass("table-responsive")})}},{key:"render",value:function(){var e=this.state.activePage;return r.a.createElement("div",{className:"studentList"},r.a.createElement("div",{className:"student-list-header"},r.a.createElement("h4",{className:"display-4 text-center"},"Student List"),r.a.createElement("input",{disabled:!0,type:"search",id:"search-students",className:"form-control",placeholder:"Search Student"})),r.a.createElement(B,{tableOptions:"table table-striped table-hover lead"}),r.a.createElement(_,{activeItem:e}))}}]),t}(n.Component),W=a(50),Y=a.n(W),q=a(73),z=a.n(q),J=a(75),V=a.n(J),K=a(74),$=a.n(K),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).TestFireConnection=function(){p.database().ref("disconnectmessage").onDisconnect().set("Aw Snap! :( You Are Now disconnected"),p.database().ref(".info/connected").on("value",function(e){!0===e.val()?console.log("%c You Are connected! :)","color:#fff;background-color:green;font-size:25px;border-radius:12px;padding:5px"):console.log("%c You Are disconnected! :(","color:#fff;background-color:red;font-size:25px;border-radius:12px;padding:5px")})},a.state={user:null},a.authListener=a.authListener.bind(Object(d.a)(a)),a.logOut=a.logOut.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.TestFireConnection(),this.authListener()}},{key:"logOut",value:function(){p.auth().signOut()}},{key:"authListener",value:function(){var e=this;p.auth().onAuthStateChanged(function(t){t?e.setState({user:t}):e.setState({user:null})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Y.a,{bg:"dark",variant:"dark"},r.a.createElement(Y.a.Brand,null,r.a.createElement("img",{alt:"react-bootstrap-logo",src:a(139),width:"30",height:"30",className:"d-inline-block align-top"})," eSchool Task"),r.a.createElement(z.a,{className:"mr-auto"}),null!==this.state.user?r.a.createElement($.a,{inline:!0}," ",r.a.createElement(V.a,{variant:"danger",onClick:this.logOut},"Logout")):null),null===this.state.user?r.a.createElement(G,null):r.a.createElement(H,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(158);l.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,a){e.exports=a(159)},82:function(e,t,a){},92:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.098bc995.chunk.js.map